# 프런트엔드 코드 검토 및 개선 사항

## 1. 적용한 개선 사항

### 1.1 주문 ID 중복 방지 (App.jsx)
- **문제**: `Date.now()`만 사용 시 같은 밀리초에 주문 2건 발생하면 `id` 중복 가능.
- **조치**: `id`를 `${Date.now()}-${ random 문자열 }` 형태로 생성하도록 수정.

### 1.2 장바구니 안전한 처리 (Cart.jsx)
- **문제**: `items`가 `undefined`일 때 `items.length`, `items.reduce`, `items.map`에서 오류 발생 가능.
- **조치**: 기본값 `items = []`, 사용처에서 `(items ?? [])` 로 방어 처리.
- **추가**: `it.optionLabels`가 없는 경우를 위해 `it.optionLabels?.length` 사용.

### 1.3 접근성 (Header, AdminPage)
- **Header**: 현재 화면에 해당하는 탭 버튼에 `aria-current="page"` 추가.
- **AdminPage**: 재고 +/- 버튼에 `aria-label` 추가 (예: "아메리카노(ICE) 재고 증가").

### 1.4 import 일관성 (App.jsx)
- AdminPage import 시 `.jsx` 확장자 제거하여 다른 컴포넌트와 동일하게 유지.

---

## 2. 수동으로 확인하면 좋은 테스트

| 단계 | 화면 | 확인 내용 |
|------|------|-----------|
| 1 | 주문하기 | 메뉴 카드에서 옵션 선택 후 "담기" → 장바구니에 항목·금액 정확히 표시 |
| 2 | 주문하기 | 같은 메뉴+옵션 다시 담기 → 수량만 증가하는지, 소계/총액이 맞는지 확인 |
| 3 | 주문하기 | 장바구니 비었을 때 "장바구니가 비어 있습니다" 문구 노출 |
| 4 | 주문하기 | 장바구니에 담은 뒤 "주문하기" 클릭 → 알림 후 장바구니 비워지는지 확인 |
| 5 | 관리자 | 대시보드에 총 주문 / 주문 접수 / 제조 중 / 제조 완료 건수 표시 |
| 6 | 관리자 | 재고 +/- 버튼으로 수량 변경, 0개→품절, 1~4개→주의, 5개 이상→정상 표시 |
| 7 | 관리자 | 주문 접수 → "제조 시작" → 제조 중 → "제조 완료" → 제조 완료 상태 전환 |
| 8 | 공통 | 주문하기 ↔ 관리자 탭 전환 시 화면·데이터 유지 |

---

## 3. 추가로 고려할 수 있는 개선 (선택)

### 3.1 장바구니 수량 변경·삭제 (PRD 권장)
- 현재: 담은 항목 수량을 직접 줄이거나 삭제 불가.
- 제안: 각 항목에 **수량 +/-** 버튼과 **삭제** 버튼 추가.

### 3.2 주문하기 버튼 비활성화
- 장바구니가 비어 있을 때 "주문하기" 버튼을 비활성화하거나 숨기는 방식은 이미 구현됨(비었을 땐 버튼 미표시).  
  필요하면 "주문하기" 버튼을 항상 보이게 하고, 비었을 때만 `disabled` 처리하는 방식도 가능.

### 3.3 메뉴 카드에 선택 시 금액 표시
- 현재: 카드에는 기본가만 표시.
- 제안: 옵션 선택 시 "담기" 위에 "담기 금액: 4,500원"처럼 표시하면 오류 방지에 도움.

### 3.4 관리자 주문 목록 스크롤
- 주문이 많을 경우 "주문 현황" 영역에 `max-height` + `overflow-y: auto` 적용해 스크롤 가능하게 할 수 있음.

### 3.5 새로고침 시 데이터 유지
- 현재: 새로고침 시 주문·재고·장바구니 모두 초기화.
- 제안: 백엔드 연동 후 API로 저장하거나, 학습용으로 `localStorage`에 저장해 복원하는 방식 검토.

---

## 4. 요약

- **적용 완료**: 주문 ID 고유성, Cart 방어 코드, 접근성(aria), import 일관성.
- **직접 확인**: 위 수동 테스트 1~8번 진행하면 동작 검증에 도움이 됨.
- **선택 개선**: 장바구니 수량/삭제, 카드 담기 금액 표시, 주문 목록 스크롤, 데이터 유지 등은 필요 시 단계적으로 적용 가능.
